import{makeCurtains as e}from"./curtain.min.js";const n=new URLSearchParams(window.location.search);console.log(n);var t=document,o=console.log,a=e=>console.log("%c"+e,"padding:0.3em 0.7em;background: #ddd; color: #000;font-weight:900;");function i(e,n){if(!e)throw n||"Assertion failed"}t.getElementById("debug").remove();function r(){let e=window.innerHeight,n=window.innerWidth,t=.01*e,o=.01*n;document.documentElement.style.setProperty("--vh",`${t}px`),document.documentElement.style.setProperty("--vw",`${o}px`),n>480?(document.body.style.width="480px",document.body.style.marginLeft=parseInt((n-480)/2)+"px",n=480):(document.body.style.width="",document.body.style.marginLeft=""),document.documentElement.style.setProperty("--window-height",`${e}`),document.documentElement.style.setProperty("--window-width",`${n}`),document.querySelectorAll("[full-width-abs]").forEach(e=>{"svg"==e.tagName?e.setAttribute("width",n):e.style.width=n+"px"}),document.querySelectorAll("[full-height-abs]").forEach(n=>{"svg"==n.tagName?n.setAttribute("height",e):n.style.height=e+"px"}),window.dispatchEvent(new Event("curtain-resize"))}var s=function(e){r()};window.attachEvent?window.attachEvent("onresize",s):window.addEventListener&&window.addEventListener("resize",s,!0);var l=(navigator.language||navigator.userLanguage).indexOf("zh")>-1?"zh":"en";t.getElementById("app").classList.remove("hidden"),FastClick.attach(t.body);var d=function(e){document.querySelectorAll("[en],[zh]").forEach(n=>{var t=n.attributes.en,o=n.attributes.zh;t&&(t=t.value),o&&(o=o.value),("en"==e&&t||"zh"==e&&!o)&&(n.textContent=t),("zh"==e&&o||"en"==e&&!t)&&(n.textContent=o)})};t.addEventListener("DOMContentLoaded",(function(){d(l),r()})),window.mobilecheck=function(){var e,n=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(n=!0),n};var c,m="!內在滿足;;Intrinsic satisfaction\n精神層面上的滿足;;Mentally Satisfied\n與神有親密連繫;;Closely connected with God\n持續的認識自我;;Continuous self-exploration\n擁有自我內心的空間;;Have an inner space \n安全感;;Sense of secure\n內心的平靜;;Have an inner peace \n新鮮感;;Sense of freshness\n感到自在;;Feel comfortable \n\n!人際關係;;Inter-personal relationship\n擁有自在舒適的人際關係;;Got a comfortable inter-personal relationship\n美滿婚姻;;Happy marriage\n有交心知己;;Have Best Friend Forever\n有親近的好朋友;;Have good friends\n親密的家庭;;A close family \n孝順父母;;Filial Piety\n和一群人一起打拼;;Work hard with others\n讚賞及鼓勵別人;;Appreciate and encourage others\n有意義的愛情;;A meaningful love-relationship  \n幫助別人;;Help others\n\n!物質享受;;Materialistic\n有車 / 有樓;;Own a Car/House\n賺大錢;;Be wealthy\n時尚的打扮;;Fashionable dress up\n錢夠用 (沒有經濟上的擔憂);;Sufficient amount of money (without financial burden)\n追上科技潮流;;Catch up on technology   \n建立社會地位;;Have social status\n環遊世界;;Travel around the world\n食盡美食;;Enjoy food\n\n!生活模式;;Life style\n簡簡單單的生活;;Simple life\n參加藝文青活動;;Participate art and cultural activities \n親親大自然;;Enjoy nature\n人生充滿樂趣;;Interesting life\n多姿多彩的生活;;Fruitful life\n參與宗教、政治、社團活動;;Participate in religions, politics and/or different societies\n什麼事都不做;;Do nothing\n規律的生活;;Regular daily life\n安穩的工作;;Stable job\n享受獨處的時光;;Enjoy being alone \n做自己喜歡的事;;Do what you like\n持續地學習;;Continuous learning \n休息與放鬆;;Rest and relaxing\n運動;;Exercises\n擁有健康;;Be healthy\n長久的生命;;A long life\n為夢想奮鬥;;Work hard on your dream\n冒險與刺激;;Adventure and excitement\n成為眾人焦點;;Be the focus of everyone \n做善事;;Do good deed\n擁有自由;;Have freedom\n做自己;;Be yourself \n生小朋友;;Have kids\n有意義的工作;;A meaningful job\n\n!自我形象;;Self-image \n誠實正直;;Integrity\n心地善良;;Kind-hearted \n公平、公正;;Be fair and impartial \n擁有純潔及真摯的心;;Be pure and true\n勇於改變;;Dare to Change \n有自信;;Confident\n有正義感;;Have a sense of justice\n義氣仔女;;Be loyal to friends \n腳踏實地;;Be practical and down-to-earth\n勇於接受挑戰;;Dare to accept challenge\n努力向上;;Hard-working\n用心/盡力做事;;Do your best on everything\n有美感;;Be aesthetic \n開放性的思維;;Open minded\n寛容;;Tolerance \n廣闊的視野;;Have wide horizon\n獨立自主;;Independence\n有影響力;;Be an influential person\n事業有成;;Successful in your career\n能夠發揮所長;;Able to use your talent\n擁有一己之長;;Have your own talent",u=["zh","en"],h=u.length,p=[],g={},f=[],w=[];m.split("\n").filter(e=>e.trim()).forEach(e=>{var n,t;e.startsWith("!")?(w.length>0&&(g[c]=w),i((n=e.substr(1).split(";;").map(e=>e.trim())).length==h,"invalid data: "+n),t={id:p.length,name:{}},u.forEach((e,o)=>{t.name[e]=n[o]}),c=t.id,p.push(t)):(i((n=e.split(";;").map(e=>e.trim())).length==h,"invalid data: "+n),w.push(n),t={id:f.length,name:{},type:c,picked:!1,droped:!1},u.forEach((e,o)=>{t.name[e]=n[o]}),f.push(t))}),w.length>0&&(g[p[p.length-1].id]=w);var v=f.slice(0);(e=>{var n,t,o;for(o=e.length-1;o>0;o--)n=Math.floor(Math.random()*(o+1)),t=e[o],e[o]=e[n],e[n]=t})(v);var y=((e,n)=>{for(var t=[],o=0,a=e.length;o<a;)t.push(e.slice(o,o+=n));return t})(v,6);window.CARDS=f,window.CARDS_TYPES=p,window.CARDS_ITEMS=g,window.CARDS_SHUFFLED=v,window.CARDS_CHUNKS=y;var b=[],E=0,k=b.length,x=t.getElementById("load-percent"),A=t.getElementById("loading-wrapper"),S=function(){x.textContent=k?parseInt(++E/k*100):100,E==k&&(a("All assets loaded."),P())};b.forEach(e=>loadjs(e,S)),0==k&&document.addEventListener("DOMContentLoaded",S);var L={x:0,y:0};document.addEventListener("mousemove",(function(e){!function(e){L.x=e.pageX,L.y=e.pageY}(e)}));var z,B=t.getElementById("volume"),C=B.querySelector(".switchContainer"),H=C.classList.contains("switchOn"),I=e=>{anime({targets:z,volume:e,duration:500,easing:"easeOutQuad"})},j=()=>{z||((z=new Audio("https://www.bensound.com/bensound-music/bensound-beyondtheline.mp3")).volume=.5),z.play()};B.onclick=()=>{H?(H=!1,I(0),C.classList.remove("switchOn"),C.classList.add("switchOff")):(H=!0,I(.5),C.classList.add("switchOn"),C.classList.remove("switchOff"),j())};var D=Array.from(document.getElementsByClassName("stage")).map(e=>e.id);a("_stages"),o(D);for(var q={},O=0;O<D.length;O++)q[D[O].replace(/\-/g,"_")]=document.getElementById(D[O]);var P=function(){var e,n,t,o;q.intro.style.opacity=1,e=q.intro,document.querySelectorAll(".active").forEach(e=>e.classList.remove("active")),e&&e.classList.add("active"),n&&n.classList.add("active"),t=A,o=e=>{a("Load wrapper removed."),N[0].show()},anime({targets:t,opacity:0,duration:750,easing:"easeOutQuad",delay:0,complete:function(e){t.remove(),o()}})};const _=e=>[function(){var n=e.obj.querySelector(".curtain-page");n&&n.curtain.show()},e.opened?0:500],F=function(e){if(0==e.length)return;var n=0,t=e[0];const o=e=>setTimeout(()=>a(e),t.duration||t[1]||0),a=function(a){var i,r=t.func||t[0]||t;if("function"!=typeof r)throw"timeline contains non-callable elements";i=r(a),(n+=1)<e.length&&(t=e[n],i&&i.then?i.then(e=>o(e)):o())};o()};window.intro_next=function(e){e.obj;F([[function(){},1e3],_(e),[function(){document.getElementById("float-top-right").classList.remove("hidden"),j()},500]])};const M=Array.from(document.querySelectorAll("#intro [drag]")).map(e=>[e,parseInt(e.getAttribute("drag"))]);window.coverUpdate=(e,n)=>{M.forEach(e=>{var t=e[0],o=e[1];t.style.transform="translateX("+-o*n+"px)"})};var R="ffac81-ff928b-fec3a6-efe9ae-cdeac0".split("-"),T=(R="547A41-d6f6dd-dac4f7-f4989c-ebd2a4-acecf7".split("-"),t.getElementById("selection-1"));y.forEach((e,n)=>{var t=T.cloneNode(!0);t.style.background="#"+R[n%R.length],t.id="selection-"+(n+1),t.querySelector(".cards").innerHTML=e.map(e=>`<li en="${e.name.en}" zh="${e.name.zh}"></li>`).join(""),T.parentNode.insertBefore(t,T.nextSibling)}),T.remove();window.stage_next=function(e){e.obj;F([()=>new Promise((function(e,n){setTimeout(()=>{console.log("promise done"),e("done")},1e3)})),e=>new Promise((function(n,t){setTimeout(()=>{console.log(e+" good"),n(e+" good")},1e3)})),_(e)])};var N=e(t.getElementById("stages"));